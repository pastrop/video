<!doctype html>
<html>
<head>
  <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  <style>
/* Styling */

body { font-family: 'Source Code Pro', sans-serif ; }
#main { width: 85%; margin: 1em auto; }
section>div { margin: 1 1.5% 1.5% 1; padding: 1.0%; float: left; background-color: #df9fbf; }

/* video */

video { width: 100%; min-height: 430px; }
button { cursor: pointer; }
nav>button { margin: 0.27em; }
nav>button:first-child { margin-left: 0; }
.wrapper { width: 520px; margin: auto; overflow: hidden; text-align: center; display: inline-block; }

.p {
  text-align: center;
  padding-top: 120px;
}

  </style>
</head>
<body>
<section class="wrapper">
  <h1>Some Cool Movie</h1>

  <!-- Fragments Template -->
  <div>
    <video id="frag1" controls preload="metadata">
      <source src="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4"  type='video/mp4;codecs="avc1.42E01E, mp4a.40.2"' data-original="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4">
      <source src="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4" type='video/webm;codecs="vp8, vorbis"' data-original="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4">
    </video>
    <nav id = "nav_1">
      <button data-start="10">Example 10sec On</button>
      <button data-start="30">Example 30sec On</button>
      <button data-start="40">Example 40sec On</button>
    </nav>
  </div>
</section>
<section class="wrapper" id="section_1">
            
          <form id="selector">
            <h3>Pick an Interval You Want to Watch</h3>
            <div>
              <input id='start' name="start" placeholder="start: 0 sec.">
            </div>
            <br></br>
            <div>
              <input id="finish" name="finish" placeholder="finish: 52 sec.">
            </div>
            <br></br>          
            <button type="submit" id="knopka_2" value="Submit">Get It!</button> 
            <br></br>
            <br></br>
            <br></br>
            <br></br>
            <br></br>          
          </form>
  <div id="second" style="display: none">
    <video id="frag2" controls preload="metadata">
      <source src="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4"  type='video/mp4;codecs="avc1.42E01E, mp4a.40.2"' data-original="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4">
      <source src="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4" type='video/webm;codecs="vp8, vorbis"' data-original="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4">
    </video>
    <nav id = "nav_2">
      <button id='b1'>Play The Selection</button>
      <button id='b2'>Done with It</button>
    </nav>
  </div> 

</section>

<script>
function mediaFragOne() {
    var video, sources, nav, buttons;
    video = document.querySelector('video#frag1');
    video_1 = document.querySelector('video#frag2');
    sources = video.getElementsByTagName('source');
    nav = document.querySelector('video#frag1+#nav_1');
    buttons = nav.getElementsByTagName('button');

    for (var i = buttons.length - 1; i >= 0; i--) {
        buttons[i].addEventListener('click', function() {
            for (var i = sources.length - 1; i >= 0; i--) {
                sources[i].setAttribute(
                    'src', (sources[i].getAttribute('data-original')
                    .concat('#t=' + this.getAttribute('data-start'))));
                    video.load();
                    video.play();
            };
        });
    }
}
mediaFragOne();
</script>
<script>
$(document).ready(function(){
  var new_src="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4",
      el,el_video='';
$("#b1").on('click', function(){
//  alert('lets play....');
  $('video#frag2').load();
  $('video#frag2').get(0).play();

//  $('#second').remove();      
});

$("#b2").on('click', function(){
  el_video=$('#second').detach();
  $('#section_1').append(el);      
});

$("#selector").on('submit', function(event) {
  event.preventDefault();
    var start_ = $('#start').val();
    var finish_ = $('#finish').val();
    var item = {'start': start_,
                'finish': finish_};
    console.log(item);
    el=$(this).detach();
    if(el_video){$('#section_1').append(el_video);}
    $('#second').show();
    var new_src="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4"+'#t='+item.start+','+item.finish;
    console.log(new_src);
    $('#second').find('source').attr("src", new_src);
});
})
</script>
</body>
</html>